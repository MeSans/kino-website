@model KinoSuite.Models.UpcomingScreeningsViewModel

@{
    ViewBag.Title = "View";
}

<div class="row control-block">
    <div class="col-sm-12">
        <div class="jumbotron">
            @using (Html.BeginForm())
            {
                    <div class="row">

                        <div class="row">
                            <div class="col-sm-6">
                                <label for="SearchString">Movie name:</label><br />
                                @Html.TextBox("SearchString", null, new { @class = "form-control text-box" })
                            </div>
                            <div class="col-sm-6">
                                <label for="SelectedGenreId">Genre:</label>
                                @Html.DropDownList("SelectedGenreId", null,"Select Genre", htmlAttributes: new { @class = "form-control single-line" })
                            </div>
                        </div>
                        <div class="row ">
                            <div class="col-sm-12">
                                <h2>
                                    Screening Start:
                                </h2>
                            </div>
                        </div>
                        <div class="row ">
                            <div class="col-sm-6">
                                <label for="ScreeningStart">From:</label>
                                <input class="form-control text-box" data-val="true" data-val-date="The field Screening start must be a date." id="ScreeningStart" name="ScreeningStart" type="datetime-local" value="">
                            </div>
                            <div class="col-sm-6">
                                <label for="ScreeningEnd">To:</label>
                                <input class="form-control text-box" data-val="true" data-val-date="The field Screening start must be a date." id="ScreeningEnd" name="ScreeningEnd" type="datetime-local" value="">
                            </div>
                        </div>

                        <div class="row ">
                            <div class="col-sm-12">
                                <h2>
                                   Movie release:
                                </h2>
                            </div>
                        </div>

                        <div class="row ">
                            <div class="col-sm-6">
                                <label for="ReleaseStart">From:</label>
                                <input class="form-control text-box" data-val="true" data-val-date="The field Screening start must be a date." id="ReleaseStart" name="ReleaseStart" type="datetime-local" value="">
                            </div>
                            <div class="col-sm-6">
                                <label for="ReleaseEnd">To:</label>
                                <input class="form-control text-box " data-val="true" data-val-date="The field Screening start must be a date." id="ReleaseEnd" name="ReleaseEnd" type="datetime-local" value="">
                            </div>
                        </div>

                    </div>

                    <div class="row ">
                        <div class="col-sm-12 center-block text-center">
                            <h2>
                                <input type="submit" value="Search" />
                            </h2>
                        </div>
                    </div>

            }

        </div>
        </div>
</div>

<div class="row">


    @foreach (var item in Model.ScreeningItems)
    {
        <div class="row row-eq-height">
            <div class="col-sm-1 padding">

            </div>
            <div class="col-sm-4 no-padding">
                @if (@item.Image != null)
                {
                    <img class="img-expanded" src="data:image;base64,@System.Convert.ToBase64String(@item.Image)" alt="img" />
                }
            </div>
            <div class="col-sm-6">

                <div class="row">
                    <div class="col-sm-6">

                        <h1>@item.Title</h1>
                    </div>
                    <div class="col-sm-6">

                       <h2> @item.genre</h2>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <h3>
                            @item.Description
                        </h3>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <h3>
                        Movie Length: @item.length
                        </h3>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <h3>
                        Screening Starts : @item.startTime
                        </h3>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <h3>
                        Language: @item.language
                        </h3>
                    </div>
                    <div class="col-sm-6">
                        <h3>
                        Subtitle language: @item.subtitleLanguage
                        </h3>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-8">
                        @if (@item.isPremiere == true)
                        {
                            <span>Premiere!</span>
                        }
                    </div>
                    <div class="col-sm-4">

                        @{
                            for (int i = 0; i < 5; i++)
                            {
                                if (i < item.rating)
                                {
                                    <span class="star-icon full">☆</span>
                                }
                                else
                                {
                                    <span class="star-icon">☆</span>
                                }
                            }
                        }
                        
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        @if (@item.youtube_link != "")
                {
                            <div class="embed-responsive embed-responsive-16by9">
                                <iframe class="youtube-video" src="@item.youtube_link" allowfullscreen></iframe>
                            </div>
                        }
                    </div>
                </div>
            </div>
            <div class="col-sm-1 padding">

            </div>
        </div>
    }
</div>



